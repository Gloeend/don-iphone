import { react, useState } from "react";
import c from "./style.module.css";
import Logotype from "@components/Logotype/Logotype";
import HeaderSearch from "@app/components/Header/HeaderSearch/HeaderSearch";
import Button from "@app/components/Button/Button";
import SubHeader from "@app/components/Header/SubHeader/SubHeader";
import Link from "next/link";
import ModalCart from "../ModalCart/ModalCart";

const items = [
  {
    name: "Apple iPhone 14 Pro Max 128GB (Тёмно-фиолетовый | Deep Purple)",
    price: "109 990₽",
    count: 3,
    preview:
      "https://c.dns-shop.ru/thumb/st1/fit/0/0/dd7baa61979e66f63325704aed3b6d0d/97c5cac2aabbc83a09317e4d7677d6d626118dbf0370881c9229fb2fc494644e.jpg.webp",
  },
  {
    name: "Apple iPhone 14 Pro Max 128GB (Тёмно-фиолетовый | Deep Purple)",
    price: "109 990₽",
    count: 0,
    preview:
      "https://c.dns-shop.ru/thumb/st1/fit/0/0/dd7baa61979e66f63325704aed3b6d0d/97c5cac2aabbc83a09317e4d7677d6d626118dbf0370881c9229fb2fc494644e.jpg.webp",
  },
  {
    name: "Apple iPhone 14 Pro Max 128GB (Тёмно-фиолетовый | Deep Purple)",
    price: "109 990₽",
    count: 0,
    preview:
      "https://c.dns-shop.ru/thumb/st1/fit/0/0/dd7baa61979e66f63325704aed3b6d0d/97c5cac2aabbc83a09317e4d7677d6d626118dbf0370881c9229fb2fc494644e.jpg.webp",
  },
  {
    name: "Apple iPhone 14 Pro Max 128GB (Тёмно-фиолетовый | Deep Purple)",
    price: "109 990₽",
    count: 0,
    preview:
      "https://c.dns-shop.ru/thumb/st1/fit/0/0/dd7baa61979e66f63325704aed3b6d0d/97c5cac2aabbc83a09317e4d7677d6d626118dbf0370881c9229fb2fc494644e.jpg.webp",
  },
  {
    name: "Apple iPhone 14 Pro Max 128GB (Тёмно-фиолетовый | Deep Purple)",
    price: "109 990₽",
    count: 0,
    preview:
      "https://c.dns-shop.ru/thumb/st1/fit/0/0/dd7baa61979e66f63325704aed3b6d0d/97c5cac2aabbc83a09317e4d7677d6d626118dbf0370881c9229fb2fc494644e.jpg.webp",
  },
];

const UiNav = ({ callback }) => {
  return (
    <nav className={c.social}>
      <ul>
        <li>
          <Button color="purple" callback={callback}>
            <svg
              className={c.social__icon}
              width="30"
              height="30"
              viewBox="0 0 30 30"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M28.8344 21.421H8.05679C7.66318 21.421 7.28569 21.2646 7.00737 20.9862C6.72904 20.7078 6.57268 20.3301 6.57268 19.9364C6.57268 19.5426 6.72904 19.165 7.00737 18.8866C7.28569 18.6082 7.66318 18.4517 8.05679 18.4517H23.5509C24.5433 18.4518 25.5072 18.1202 26.2897 17.5096C27.0721 16.899 27.6282 16.0445 27.8697 15.0816L30.3185 5.44624C30.3741 5.22712 30.3789 4.99819 30.3326 4.77692C30.2863 4.55565 30.1901 4.34787 30.0513 4.16944C29.907 3.98644 29.7216 3.84 29.5102 3.74198C29.2988 3.64397 29.0673 3.59714 28.8344 3.60528H7.70061C7.39442 2.73891 6.82784 1.9885 6.07857 1.4569C5.32929 0.925312 4.43399 0.638569 3.51541 0.635986H2.12034C1.72673 0.635986 1.34924 0.792404 1.07092 1.07083C0.792592 1.34925 0.63623 1.72688 0.63623 2.12063C0.63623 2.51439 0.792592 2.89201 1.07092 3.17044C1.34924 3.44886 1.72673 3.60528 2.12034 3.60528H3.51541C3.85443 3.5954 4.18661 3.70198 4.45664 3.90728C4.72667 4.11257 4.91827 4.4042 4.99952 4.73361L5.08857 5.44624L7.65608 15.4824C6.47525 15.5356 5.36389 16.0558 4.56649 16.9287C3.76909 17.8016 3.35096 18.9556 3.4041 20.1368C3.45724 21.3181 3.97728 22.4298 4.84983 23.2275C5.72238 24.0252 6.87596 24.4435 8.05679 24.3903H8.32393C8.07985 25.0631 8.00142 25.7847 8.09528 26.4942C8.18914 27.2037 8.45253 27.8801 8.86314 28.4662C9.27375 29.0523 9.8195 29.5307 10.4542 29.8611C11.0888 30.1914 11.7937 30.3638 12.5091 30.3638C13.2246 30.3638 13.9294 30.1914 14.5641 29.8611C15.1988 29.5307 15.7445 29.0523 16.1551 28.4662C16.5657 27.8801 16.8291 27.2037 16.923 26.4942C17.0168 25.7847 16.9384 25.0631 16.6943 24.3903H20.1968C19.9528 25.0631 19.8743 25.7847 19.9682 26.4942C20.062 27.2037 20.3254 27.8801 20.736 28.4662C21.1467 29.0523 21.6924 29.5307 22.3271 29.8611C22.9617 30.1914 23.6666 30.3638 24.382 30.3638C25.0975 30.3638 25.8023 30.1914 26.437 29.8611C27.0717 29.5307 27.6174 29.0523 28.028 28.4662C28.4386 27.8801 28.702 27.2037 28.7959 26.4942C28.8897 25.7847 28.8113 25.0631 28.5672 24.3903H28.8344C29.228 24.3903 29.6055 24.2339 29.8838 23.9555C30.1621 23.6771 30.3185 23.2994 30.3185 22.9057C30.3185 22.5119 30.1621 22.1343 29.8838 21.8559C29.6055 21.5775 29.228 21.421 28.8344 21.421ZM26.9347 6.57457L24.9905 14.3541C24.9093 14.6835 24.7177 14.9752 24.4476 15.1805C24.1776 15.3857 23.8454 15.4923 23.5064 15.4824H10.6985L8.47235 6.57457H26.9347ZM12.5091 27.3596C12.2156 27.3596 11.9287 27.2725 11.6846 27.1094C11.4405 26.9463 11.2503 26.7144 11.138 26.4431C11.0257 26.1718 10.9963 25.8733 11.0535 25.5853C11.1108 25.2973 11.2521 25.0328 11.4597 24.8252C11.6673 24.6175 11.9317 24.4761 12.2196 24.4189C12.5075 24.3616 12.8059 24.391 13.0771 24.5033C13.3483 24.6157 13.5801 24.806 13.7431 25.0501C13.9062 25.2943 13.9932 25.5813 13.9932 25.875C13.9932 26.2687 13.8369 26.6464 13.5586 26.9248C13.2802 27.2032 12.9027 27.3596 12.5091 27.3596ZM24.382 27.3596C24.0885 27.3596 23.8016 27.2725 23.5575 27.1094C23.3134 26.9463 23.1232 26.7144 23.0109 26.4431C22.8986 26.1718 22.8692 25.8733 22.9264 25.5853C22.9837 25.2973 23.125 25.0328 23.3326 24.8252C23.5402 24.6175 23.8046 24.4761 24.0925 24.4189C24.3804 24.3616 24.6788 24.391 24.95 24.5033C25.2212 24.6157 25.453 24.806 25.616 25.0501C25.7791 25.2943 25.8661 25.5813 25.8661 25.875C25.8661 26.2687 25.7098 26.6464 25.4315 26.9248C25.1531 27.2032 24.7756 27.3596 24.382 27.3596Z"
                fill="white"
              />
            </svg>
          </Button>
        </li>
        <li>
          <Button color="purple">
            <svg
              className={c.social__icon}
              width="27"
              height="35"
              viewBox="0 0 27 35"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M23.25 19.5027V14.2154C23.2477 11.8595 22.4306 9.58056 20.9435 7.78203C19.4564 5.98351 17.3952 4.78149 15.125 4.38885V2.57651C15.125 2.13554 14.9538 1.71263 14.649 1.40081C14.3443 1.08899 13.931 0.913818 13.5 0.913818C13.069 0.913818 12.6557 1.08899 12.351 1.40081C12.0462 1.71263 11.875 2.13554 11.875 2.57651V4.38885C9.60478 4.78149 7.5436 5.98351 6.0565 7.78203C4.5694 9.58056 3.75233 11.8595 3.75 14.2154V19.5027C2.80173 19.8458 1.98037 20.4805 1.39852 21.32C0.816678 22.1594 0.502827 23.1624 0.5 24.1915V27.5169C0.5 27.9579 0.671205 28.3808 0.975952 28.6926C1.2807 29.0044 1.69402 29.1796 2.125 29.1796H7.2275C7.60171 30.5885 8.41863 31.8323 9.55222 32.7191C10.6858 33.6058 12.0731 34.0862 13.5 34.0862C14.9269 34.0862 16.3142 33.6058 17.4478 32.7191C18.5814 31.8323 19.3983 30.5885 19.7725 29.1796H24.875C25.306 29.1796 25.7193 29.0044 26.024 28.6926C26.3288 28.3808 26.5 27.9579 26.5 27.5169V24.1915C26.4972 23.1624 26.1833 22.1594 25.6015 21.32C25.0196 20.4805 24.1983 19.8458 23.25 19.5027ZM7 14.2154C7 12.4515 7.68482 10.7598 8.90381 9.51256C10.1228 8.2653 11.7761 7.5646 13.5 7.5646C15.2239 7.5646 16.8772 8.2653 18.0962 9.51256C19.3152 10.7598 20 12.4515 20 14.2154V19.2035H7V14.2154ZM13.5 30.8423C12.9328 30.8388 12.3764 30.6835 11.8861 30.3918C11.3958 30.1001 10.9886 29.6822 10.705 29.1796H16.295C16.0114 29.6822 15.6042 30.1001 15.1139 30.3918C14.6236 30.6835 14.0672 30.8388 13.5 30.8423ZM23.25 25.8542H3.75V24.1915C3.75 23.7506 3.92121 23.3277 4.22595 23.0158C4.5307 22.704 4.94402 22.5288 5.375 22.5288H21.625C22.056 22.5288 22.4693 22.704 22.774 23.0158C23.0788 23.3277 23.25 23.7506 23.25 24.1915V25.8542Z"
                fill="white"
              />
            </svg>
          </Button>
        </li>
      </ul>
    </nav>
  );
};

const Header = () => {
  const [cartOpen, setCartOpen] = useState(false);

  const CartSwitcher = () => (cartOpen ? <ModalCart items={items} /> : <></>);

  const callbackCartSwitch = () => setCartOpen(!cartOpen);

  return (
    <>
      <header className={c.header + " wrap"}>
        <CartSwitcher />
        <Logotype />
        <HeaderSearch name={"header-search"} placeholder={"iPhone 11 Pro 128"} />
        <UiNav callback={callbackCartSwitch} />
      </header>
      <SubHeader />
    </>
  );
};

export default Header;
